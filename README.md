# Тестовое задание

Программная часть задания выполнена в виде плагина, который расположен в папке `wp-content/plugins` и называется `sha-cpt-doctors`. Для ЧПУ используется плагин `cyr2lat`, который также находится в папке `plugins`. Визуальная часть сделана в виде классического подхода с переписыванием шаблонов `archive-doctors.php` и `single-doctors.php`. которые лежат в папке темы doctors, созданной на базе underscores. Также в корне расположен файл импорта на 23 доктора с разным набором параметров для базового тестирования.

Для установки необходимо активировать тему `doctors` (либо перенести файлы `archive-doctors.php` и `single-doctors.php` в свою тему), активировать оба плагина (в `cyr2lat` после активации надо включить CPT doctors в настройках). После этого в меню админки появится вкладка "Доктора". Можно импортировать данные стандартным методом импорта (если их достаточно для теста) и обязательно сменить permalinks в настройках wordpress с дефотных на ЧПУ.

Для доступа к архиву записей на frontend используется база /doctors/ Поскольку в задании не было каких то пожеланий по дизайну, были произведены минимальные правки.

Все тексты внутри плагина обернуты в `__()` для возможности модификации без правки плагина, в шаблонах текст прописаны без, поскольку с этими файлами все равно ведется работа при создании темы. Переменные в плагине, которые могут быть изменены, обернуты в `apply_filters()`.

Помимо базовых требований к админке, для демонстрации еще добавлен вывод кастомный полей в admin grid (столбец Рейтинг) и фильтр по городам. Для города выбрана non-hierarchical таксономия, поскольку она позволяет искать записи через autocomplete, что для большого списка городов сильно облегчает поиск нужного города.

В странице архива использован хук `pre_get_posts` вместо `WP_Query`, поскольку шаблон архива уже содержит запрос `WP_Query`, который можно модифицировать вместо составления еще одного запроса + корректная работа с pagination.

Задача протестирована в последней чистой версии WordPress 6.9.
